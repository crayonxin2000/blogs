@[TOC](目录)

# 前言
我的另一篇文章主要讲解了鹅厂的m3u8链接获取，这篇文章讲解桃厂m3u8文件的获取方法。

本文所需工具：
1. 支持开发者调试的浏览器（最好是谷歌浏览器）
2. 文本编辑器（推荐notepad++）
3. m3u8下载器[m3u8批量下载器](https://wwe.lanzoui.com/iMV28llwyve)

# 获取视频m3u8链接

**使用浏览器打开你想下载的视频：**
打开视频网页之后，按F12，打开开发者调试，最好再刷新一下视频。
这步跟上一篇文章开头讲的一样。



---

**输入"m3u8"字符搜索**
如下图所示，按照三个步骤：
点击搜索按钮，输入“m3u8”搜索，最后点击一下第一个“cache.video.iqiyi.com”跳转到此网络请求。

![在这里插入图片描述](https://img-blog.csdnimg.cn/fba25e424b11406a870a004b28d5ee42.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ3JheW9u6ZGr,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center)


---

**找到返回的参数中的“m3u8”值**

点击Preview可以看到这条http请求的返回参数，如下图：

![在这里插入图片描述](https://img-blog.csdnimg.cn/218b6c07cfa44c929d4a9ccaefd5425c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ3JheW9u6ZGr,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center)

这个JSON里有一个m3u8。路径是data→program→video→0→m3u8 。如下图：

![在这里插入图片描述](https://img-blog.csdnimg.cn/4485d6b42b7d47b8ab9261d4e92503af.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ3JheW9u6ZGr,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center)


因为开发者工具展示空间有限，浏览器把他隐藏了，咱们把这个值复制到文件中看。如下图：

![在这里插入图片描述](https://img-blog.csdnimg.cn/579356f59d864c73b0b474195e05444f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ3JheW9u6ZGr,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center)


---


**把值存储到文本文件中，使用notepad++打开**

存储的文件名自己设置，但是结尾是.m3u8，如下图：
![在这里插入图片描述](https://img-blog.csdnimg.cn/e69ae71b03494878995f83b4ac075f0d.png#pic_center)


右键选择notepad++打开。其他编辑器也可以。桃厂返回的值需要后期处理一下，需要用到正则替换。

![在这里插入图片描述](https://img-blog.csdnimg.cn/3a1003327cfb410abea9cdcb2b580265.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ3JheW9u6ZGr,size_15,color_FFFFFF,t_70,g_se,x_16#pic_center)

---

**处理字符**
因为桃厂返回的是转义字符，咱们需要把“\n”换成真正的“换行”。
使用notepad++的替换功能，选中查找模式的“正则表达式”，第一个空输入“\\n”。第二个空输入“\r\n”。最后选择全部替换。
![在这里插入图片描述](https://img-blog.csdnimg.cn/c61adc6bd32b4212ad7a4b994d39a606.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ3JheW9u6ZGr,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center)

如果开头有双引号，记得去除，结尾的也要去除。
![在这里插入图片描述](https://img-blog.csdnimg.cn/fec7cc40d2c84a2b9222f0844ef0c09b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ3JheW9u6ZGr,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center)
![在这里插入图片描述](https://img-blog.csdnimg.cn/d08b181e6a9a40a6b8b4dda5c5e129ba.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ3JheW9u6ZGr,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center)

---

<font color="#ff0000" size="5">文件记得保存！记得保存！记得保存！</font>


# 使用m3u8下载器下载

打开m3u8批量下载器[m3u8批量下载器](https://wwe.lanzoui.com/iMV28llwyve)（其他m3u8下载器也可）。
把刚才的文件拖入，添加队列，全部开始。然后等待一会就可以下载完成了。

![在这里插入图片描述](https://img-blog.csdnimg.cn/8ea396ed585c49788177baf0556cb411.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ3JheW9u6ZGr,size_19,color_FFFFFF,t_70,g_se,x_16#pic_center)

